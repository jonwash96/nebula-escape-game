body {
    margin:0;
    background: var(--dblue);
    background-size:cover;
    width:100vw;
    height:100vh;
    color:white;
    overflow: none;
}

.clickable:hover {cursor:pointer;}
.show {display:block;}
.hide {display:none;}

main {
    pointer-events: all;
    position: absolute;
    width:100vw; 
    height:100%;
    z-index: 10;
    display: grid;
    grid-template: 
        ". . . ." 10%
        ". p1 p2 . " 60%
        ". . . . " 30% / 1fr 2fr 2fr 1fr;
    /* border: 1px solid magenta; */

    #p2-board, #p1-board {
        position: relative;
        /* border:1px solid orange; */
    }
    #p1-board {grid-area:p1;}
    #p2-board {grid-area:p2;}

    .rotate {scale: 93%;}
    #p1-board.rotate {transform:rotate(90deg) translateY(-20px);}
    #p2-board.rotate {transform:rotate(-90deg) translateY(-20px);}
}
@media screen and (max-width: 1190px) {
    .active-board {display:grid;}
    main {
        grid-template: 
        ". . ." 9%
        ". p2 . " 60%
        ". . . " 30% / 1fr 2fr 1fr;
    }
}

#db-text-overlay {
    pointer-events: all;
    position: absolute;
    inset:0;
    width: 100vw;
    height: 77vh;
    z-index: 2;
    margin-top:15px;
    padding:0 1%;
    /* border: 1px solid magenta; */
    display: grid block;
    grid-template-columns: 15% 13% auto 13% 15%;
    grid-template-rows: calc((50px - 1em) * 0.8) calc(31% - 50px) 36% 30%;
    gap: 1em 2em;
    grid-template-areas: 
        ". . header . . "
        "p1-summary . . . p2-summary"
        "p1-ships . . . p2-ships"
        "p1-status . . . p2-status";

    & .header {
        grid-area: header;
        font-size: 32pt;
    }

    & div {
        /* border:1px solid yellow; */
        position:relative;
        padding: 2%;
        color:var(--midnight);
    }

    #p1-summary-text-overlay {grid-area:p1-summary;}
    
    #p1-ships-text-overlay {
        grid-area:p1-ships;
        text-align: left;
        
        & .ships {
            display: grid;
            grid-template: 25% 23% 22% 15% 15% / auto;
            height: 98%;
            /* border: 1px solid violet; */
            
            & svg.brkt-placed-ship {opacity:0.5;}
            & svg {
                fill: var(--dblue);
                height:100%;
                pointer-events: none;
            }
        }
        
        & .ships.enemy {
            & #borgCube-svg {height:100%;}
            & #capitalShip-svg {height:100%;}
            & #bird-of-prey-svg {height:100%;}
            & #mars-shuttle-svg {height:95%;}
            & #snakehead-svg {height:80%;}
        }
        
        & .ships.starfleet {
            
            & .ship svg {rotate: 180deg;}
            & #enterprise-svg {height:100%;}
            & #titan-svg {height:100%;}
            & #wallenberg-svg {height:100%;}
            & #lasirena-svg {height:100%;}
            & #shuttle-svg {height:70%;}
        }
        
        & #p1-ships-btn {transform:translate(5.5vw, -130%);}
    }

    #p1-status-text-overlay {
        grid-area:p1-status;
        text-align: left;

        & * {padding:0;margin:0;}

        & h4 {
            margin:0;
            line-height:1em;
            /* border:1px solid green; */
        }

        & .targeting-panel {
            display: grid;
            grid-template: 15% 17% 16% 16% 16% 16% / auto;
            height: 100%;
            /* border: 1px solid violet; */
            
            & svg {
                fill: var(--dblue);
                pointer-events: none;
            }
        }

        & .targeting-group {
            display:grid;
            grid-template: 100% / 1fr 2fr;

            & .weapons {
                margin-left:12px;
                display:flex;
                flex-direction: row;
                justify-content: flex-start;
                gap: 6px;;
            }

            & .weapon-symbol svg {height:100%;fill:var(--dblue);}
            & .weapon-symbol:hover svg {cursor:pointer;fill:var(--dgold);}

            & .selected-weapon svg {fill: var(--blue);}
            & .depleted-weapon svg {fill:var(--red); opacity:.5; pointer-events: none;}
            & .maxed-weapon svg {opacity:.5; pointer-events: none;}
            & .maxed-weapon:hover svg {fill:var(--red);opacity:.5; pointer-events: none;}
        }

        
        & .targeting-panel.enemy {
            & #borgCube-svg {height:100%;}
            & #capitalShip-svg {height:100%;}
            & #bird-of-prey-svg {height:100%;}
            & #mars-shuttle-svg {height:95%;}
            & #snakehead-svg {height:80%;}
        }
        
        & .targeting-panel.starfleet {
            /* & div {border:1px solid blue;height:100%;} */
            & .ship svg {rotate: 180deg;}
            & #enterprise-svg {height:100%;}
            & #titan-svg {height:100%;}
            & #wallenberg-svg {height:100%;}
            & #lasirena-svg {height:100%;}
            & #shuttle-svg {height:80%;}
        }
    }

    #p2-summary-text-overlay {grid-area:p2-summary;text-align: right;}
    
    #p2-ships-text-overlay {
        grid-area:p2-ships;
        text-align: right;
        
        & .ships {
            display: grid;
            grid-template: 25% 23% 22% 15% 15% / auto;
            height: 98%;
            /* border: 1px solid violet; */
            
            & svg.brkt-placed-ship {opacity:0.5;}
            & svg {
                fill:var(--dblue);
                height:100%; 
                pointer-events: none;
            }
            
            & .ships.starfleet {
                & #enterprise-svg {height:100%;}
                & #titan-svg {height:100%;}
                & #wallenberg-svg {height:100%;}
                & #lasirena-svg {height:100%;}
                & #shuttle-svg {height:70%;}
            }
            
            & .ships.enemy {
                gap:.5em;
                & .ship svg {rotate: 180deg;}
            }
        }
        
        & #p2-ships-btn {transform:translate(-130px, -130%)}
    }
    
    #p2-status-text-overlay {
        grid-area:p2-status;
        text-align: right;
    
        & * {padding:0;margin:0;}
    
        & h4 {
            margin:0;
            line-height:1em;
            /* border:1px solid green; */
        }
    
        & .targeting-panel {
            display: grid;
            grid-template: 15% 17% 16% 16% 16% 16% / auto;
            height: 100%;
            /* border: 1px solid violet; */
            
            & svg {
                fill: var(--dblue);
                pointer-events: none;
            }
        }
    
        & .targeting-group {
            display:flex;
            /* grid-template: 100% / 1fr 2fr; */
            flex-direction: row-reverse;
    
            & .weapons {
                margin-right:12px;
                display:flex;
                flex-direction: row;
                justify-content: flex-start;
                gap: 6px;;
            }
        }
    
        & .weapon-symbol svg {height:100%;fill:var(--dblue);}
        & .weapon-symbol:hover svg {cursor:pointer;fill:var(--blue);}
        
        & .targeting-panel.enemy {
            & #borgCube-svg {height:100%;}
            & #capitalShip-svg {height:100%;}
            & #bird-of-prey-svg {height:100%;}
            & #mars-shuttle-svg {height:95%;}
            & #snakehead-svg {height:80%;}
        }
        
        & .targeting-panel.starfleet {
            /* & div {border:1px solid blue;height:100%;} */
            /* & .ship svg {rotate: 180deg;} */
            & #enterprise-svg {height:100%;}
            & #titan-svg {height:100%;}
            & #wallenberg-svg {height:100%;}
            & #lasirena-svg {height:100%;}
            & #shuttle-svg {height:100%;}
        }
    }
}


#db-grid-container {
    position:relative;
    background: linear-gradient(to bottom right, var(--dblue), var(--steelblue));
    background-size:cover;
    display: grid;
    width: 100vw;
    height: 100vh;
    border-radius:0 0 8em 0;
    grid-template-areas: "top" "bottom";
    grid-template-rows: 80% auto;

}

#bracket-container {
    display: relative;
    padding:1em;
    grid-area: top;
    display:grid;
    grid-template-columns: 15% 15% auto 15% 15%;
    grid-template-rows: 30% auto 30%;
    gap: 1em;
    grid-template-areas: 
        "p1-summary p1-summary . p2-summary p2-summary"
        "p1-ships board board board p2-ships"
        "p1-status p1-status . p2-status p2-status";
    opacity:75%;


}
.db-bracket {
    background: var(--cyan);
    & svg {fill:var(--cyan);z-index:0;}
}

#brkt-offence-summary {grid-area: p1-summary;background: transparent;}
#brkt-p1-ships {grid-area: p1-ships;}
#brkt-p1-stats {grid-area: p1-status;background: transparent;}
#brkt-defence-summary {grid-area: p2-summary;background: transparent;}
#brkt-p2-ships {grid-area: p2-ships;}
#brkt-p2-stats {grid-area: p2-status;background: transparent;}


#db-controls-grid {
    grid-area:bottom;
    display: grid;
    padding:0 1% 3% 1%;
    grid-template:"left center right" auto / 2fr 1fr 2fr;

    /* & div {border:1px solid green;} */

    .db-controls {
        display:flex;
        flex-wrap: wrap;
        width:100%;
        position:relative;
        gap: 1em 3em;
    }
    
    #attack-controls {
        grid-area: left;
        justify-content: flex-start;
    }
    
    #game-controls {
        grid-area: right;
        justify-content: flex-end;
    }
    
    & .center {
        grid-area:center;
        display:grid;
        gap: 1em;
        grid-template: 
            "l1 m r1" 33.33%
            "l2 m r2" 33.33%
            "l3 bm2 r3" 33.33% / auto auto auto;
    
        & div:nth-child(1) {grid-area:l1;}
        & div:nth-child(2) {grid-area:l2;}
        & div:nth-child(3) {grid-area:l3;}

        & .status-list-item {
            display:grid;
            grid-template:"pill title num" auto / auto 2fr 1fr;
            gap:6px;
            font-size: 10pt;
            position: relative;

            & .pill {width:20px;border-radius:3px;grid-area:pill;}
            & .title {font-size:1em;grid-area:title;}
            & .num {font-size: 2em;grid-area:num;}
        }
    }
    
}

dialog {
    width: 480px;
    border: 1px solid var(--gold);
    text-align: center;

    & button {margin-top:2em;}
}
dialog::backdrop {background: #5005;}